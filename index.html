<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>Den of Shadow: Procedural ðŸ’€</title>
    <style>
        :root {
            --c-comum: #3498db; --c-incomum: #2ecc71; --c-raro: #f1c40f; 
            --c-epico: #9b59b6; --c-lendario: #e74c3c;
        }
        * { touch-action: none; user-select: none; box-sizing: border-box; outline: none; }
        body { margin: 0; background: #05050a; color: white; font-family: 'Segoe UI', Tahoma, sans-serif; overflow: hidden; }
        canvas { display: block; image-rendering: pixelated; }

        /* HUD MINIMALISTA */
        #hud { position: absolute; top: 20px; left: 20px; z-index: 1000; pointer-events: none; }
        .stat { background: rgba(0,0,0,0.7); padding: 10px 15px; border-radius: 12px; border: 1px solid rgba(255,255,255,0.1); margin-bottom: 8px; font-weight: bold; display: flex; align-items: center; gap: 10px; }
        
        /* TELAS DE UI */
        .screen { position: absolute; inset: 0; background: rgba(5, 5, 15, 0.98); z-index: 2000; display: flex; flex-direction: column; justify-content: center; align-items: center; text-align: center; }
        .btn-main { padding: 15px 45px; background: #2ecc71; border: none; color: white; font-size: 22px; font-weight: bold; border-radius: 15px; cursor: pointer; transition: 0.2s; box-shadow: 0 5px #1c8d4c; }
        .btn-main:active { transform: translateY(3px); box-shadow: 0 2px #1c8d4c; }

        /* LOJA */
        .shop-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 15px; margin-top: 20px; }
        .shop-item { background: #16213e; border: 2px solid #f1c40f; padding: 20px; border-radius: 15px; cursor: pointer; width: 220px; transition: 0.3s; }
        .shop-item:hover { transform: scale(1.05); background: #1f4068; }
        .price { color: #f1c40f; font-size: 1.2em; display: block; margin-top: 10px; }

        /* CONTROLES MOBILE */
        #mobile-hud { position: absolute; inset: 0; pointer-events: none; display: none; }
        #joy-base { position: absolute; bottom: 50px; left: 50px; width: 150px; height: 150px; background: rgba(255,255,255,0.05); border: 3px solid rgba(255,255,255,0.2); border-radius: 50%; pointer-events: auto; }
        #joy-stick { position: absolute; width: 60px; height: 60px; background: #00eaff; border-radius: 50%; left: 45px; top: 45px; box-shadow: 0 0 15px #00eaff; }
        #swap-btn { position: absolute; bottom: 65px; left: 220px; width: 85px; height: 85px; background: #f1c40f; border-radius: 20px; pointer-events: auto; display: flex; align-items: center; justify-content: center; color: #000; font-weight: bold; box-shadow: 0 5px #c29d0b; }
        #atk-grid { position: absolute; bottom: 50px; right: 50px; display: grid; grid-template-columns: repeat(3, 90px); gap: 12px; pointer-events: auto; }
        .btn-atk { width: 90px; height: 90px; background: rgba(255,255,255,0.05); border: 2px solid #fff; border-radius: 50%; display: flex; justify-content: center; align-items: center; font-size: 30px; }
    </style>
</head>
<body>

<div id="start-screen" class="screen">
    <h1 style="font-size: 60px; color: #e74c3c; text-shadow: 0 0 20px rgba(231,76,60,0.5);">DEN OF SHADOW</h1>
    <p style="color: #bdc3c7;">Sobreviva Ã  escuridÃ£o procedural.</p><br>
    <button class="btn-main" onclick="startGame()">INICIAR JORNADA</button>
</div>

<div id="shop-screen" class="screen" style="display:none;">
    <h2 style="color:#f1c40f; font-size: 40px;">MERCADOR</h2>
    <div id="shop-money" style="font-size: 24px; color: #f1c40f; margin-bottom: 10px;">ðŸ’° 0</div>
    <div class="shop-grid" id="shop-items"></div>
    <button class="btn-main" style="margin-top:40px; background:#e74c3c; box-shadow: 0 5px #b
